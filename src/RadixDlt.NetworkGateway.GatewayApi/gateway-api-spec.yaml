openapi: 3.0.0
info:
  version: 2.0.0
  title: Radix Babylon Gateway API
  license:
    name: The Radix License, Version 1.0
    url: https://www.radixfoundation.org/licenses/LICENSE-v1
  description: |
    See https://docs.radixdlt.com/main/apis/introduction.html

servers:
  - url: http://localhost:5208
  - url: https://stokenet.radixdlt.com
  - url: https://mainnet.radixdlt.com
tags:
  - name: Status
    x-displayName: Status Endpoints
    description: To query information about the Gateway API status.
  - name: Transaction
    x-displayName: Transaction Endpoints
    description: To build, finalize and submit transactions, and to query transaction status and contents.
  - name: State
    x-displayName: TBD State Endpoints
    description: TBD
paths:
  "/gateway":
    post:
      summary: Get Gateway Info
      description: Returns the Gateway API version, network and current ledger state.
      tags:
        - Status
      requestBody:
        required: true
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/GatewayRequest"
      responses:
        '200':
          description: The Network
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/GatewayResponse"
        '500':
          description: Gateway Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
  "/transaction/recent":
    post:
      summary: Get Recent Transactions
      description: |
        Returns user-initiated transactions which have been succesfully committed to the ledger.
        The transactions are returned in a paginated format, ordered by most recent.
      tags:
        - Transaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/RecentTransactionsRequest"
      responses:
        '200':
          description: A page of the most recent transactions
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/RecentTransactionsResponse"
        '500':
          description: Gateway Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
  "/transaction/preview":
    post:
      summary: Preview Transaction
      description: |
        Previews transaction against the network.
      tags:
        - Transaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/TransactionPreviewRequest"
      responses:
        '200':
          description: Successful Preview
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/TransactionPreviewResponse"
        '500':
          description: Gateway Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
  "/transaction/submit":
    post:
      summary: Submit Transaction
      description: |
        Submits a signed transaction payload to the network.
        The transaction identifier from finalize or submit can then be used to track the transaction status.
      tags:
        - Transaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/TransactionSubmitRequest"
      responses:
        '200':
          description: Successful Submission
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/TransactionSubmitResponse"
        '500':
          description: Gateway Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
  "/transaction/status":
    post:
      summary: Transaction Status
      description: |
        Returns the status and contents of the transaction with the given transaction identifier. Transaction identifiers which aren't recognised as either belonging to a committed transaction or a transaction submitted through this Network Gateway may return a `TransactionNotFoundError`. Transaction identifiers relating to failed transactions will, after a delay, also be reported as a `TransactionNotFoundError`.
      tags:
        - Transaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/TransactionStatusRequest"
      responses:
        '200':
          description: Transaction Status
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/TransactionStatusResponse"
        '500':
          description: Gateway Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
  /state:
    post:
      summary: Entity State
      description: |
        TBD
      tags:
        - State
      requestBody:
        required: true
        content:
          application/json:
            schema:
              "$ref": "#/components/schemas/EntityStateRequest"
      responses:
        '200':
          description: Entity State
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/EntityStateResponse"
        '500':
          description: Gateway Error
          content:
            application/json:
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
components:
  schemas:
    ResultSetCursor:
      type: object
      required:
        - total_count
        - results
      properties:
        total_count:
          description: TBD (make it nullable when we're dealing with unknown result set sizes?)
          type: number
        previous_cursor:
          description: TBD (maybe we should use HATEOAS-like permalinks?)
          type: string
          nullable: true
        next_cursor:
          description: TBD (maybe we should use HATEOAS-like permalinks?)
          type: string
          nullable: true
        results:
          type: array
          items: { } # any type of items
    EntityStateRequest:
      type: object
      required:
        - address
      properties:
        address:
          description: The Bech32m-encoded human readable version of the entity's global address
          type: string
        at_state_identifier:
          $ref: "#/components/schemas/PartialLedgerStateIdentifier"
    EntityStateResponse:
      type: object
      required:
        - address
        - fungible_resources
        - non_fungible_resources
      properties:
        address:
          description: The Bech32m-encoded human readable version of the entity's global address
          type: string
        fungible_resources:
          allOf:
            - $ref: "#/components/schemas/ResultSetCursor"
            - type: object
              required:
                - results
              properties:
                results:
                  type: array
                  items:
                    $ref: "#/components/schemas/EntityStateResponseFungibleResource"
        non_fungible_resources:
          allOf:
            - $ref: "#/components/schemas/ResultSetCursor"
            - type: object
              required:
                - results
              properties:
                results:
                  type: array
                  items:
                    $ref: "#/components/schemas/EntityStateResponseNonFungibleResource"
    EntityStateResponseFungibleResource:
      type: object
      required:
        - address
        - amount_attos
      properties:
        address:
          description: The Bech32m-encoded human readable version of the resource's global address
          type: string
        amount_attos:
          type: string
          description: |
            A decimal-string-encoded integer between 0 and 2^255-1, which represents the total number of 10^(-18) subunits in
            the total supply of this resource.
    EntityStateResponseNonFungibleResource:
      type: object
      required:
        - address
        - amount
      properties:
        address:
          description: The Bech32m-encoded human readable version of the resource's global address
          type: string
        amount:
          type: number
    TransferTokens:
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - from_account
            - to_account
            - amount
          properties:
            from_account:
              "$ref": "#/components/schemas/AccountIdentifier"
            to_account:
              "$ref": "#/components/schemas/AccountIdentifier"
            amount:
              "$ref": "#/components/schemas/TokenAmount"
    AccountStakeEntry:
      type: object
      required:
        - validator_identifier
        - delegated_stake
      properties:
        validator_identifier:
          description: The validator to which the XRD stake is delegated.
          "$ref": "#/components/schemas/ValidatorIdentifier"
        delegated_stake:
          description: The amount of XRD staked.
          "$ref": "#/components/schemas/TokenAmount"
    StakeTokens:
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - from_account
            - to_validator
            - amount
          properties:
            from_account:
              "$ref": "#/components/schemas/AccountIdentifier"
            to_validator:
              "$ref": "#/components/schemas/ValidatorIdentifier"
            amount:
              "$ref": "#/components/schemas/TokenAmount"
    UnstakeTokens:
      description: An action to unstake tokens. Exactly one of amount or unstake_percentage is required.
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - from_validator
            - to_account
          properties:
            from_validator:
              "$ref": "#/components/schemas/ValidatorIdentifier"
            to_account:
              "$ref": "#/components/schemas/AccountIdentifier"
            amount:
              description: |
                If present, this gives the amount of XRD to unstake. This should be no more than the maximum estimated XRD of the stake position at the corresponding LedgerState. Provide a PartialLedgerStateIdentifier matching the LedgerState of the response which provided the estimate that was shared with the user; or simply use the `unstake_percentage` option.
              "$ref": "#/components/schemas/TokenAmount"
            unstake_percentage:
              description: |
                The percentage of currently staked XRD to unstake, where the proportion is a proportion of the current active stake at the given LedgerState. To be explicit, the referenced active state does not include pending stake, pending unstake or locked unstake.
              type: number
              minimum: 0
              maximum: 100
    CreateTokenDefinition:
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - token_properties
            - token_supply
          properties:
            token_properties:
              "$ref": "#/components/schemas/TokenProperties"
            token_supply:
              "$ref": "#/components/schemas/TokenAmount"
            to_account:
              "$ref": "#/components/schemas/AccountIdentifier"
    MintTokens:
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - to_account
            - amount
          properties:
            to_account:
              "$ref": "#/components/schemas/AccountIdentifier"
            amount:
              "$ref": "#/components/schemas/TokenAmount"
    BurnTokens:
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - from_account
            - amount
          properties:
            from_account:
              "$ref": "#/components/schemas/AccountIdentifier"
            amount:
              "$ref": "#/components/schemas/TokenAmount"
    RegisterValidator:
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - validator
          properties:
            validator:
              description: "The validator to register. The transaction will need to be signed by the validator's private key."
              "$ref": "#/components/schemas/ValidatorIdentifier"
    UnregisterValidator:
      allOf:
        - "$ref": "#/components/schemas/Action"
        - type: object
          required:
            - validator
          properties:
            validator:
              description: "The validator to unregister. The transaction will need to be signed by the validator's private key."
              "$ref": "#/components/schemas/ValidatorIdentifier"
    Action:
      type: object
      required:
        - type
      properties:
        type:
          type: string
      discriminator:
        propertyName: type
        mapping:
          CreateTokenDefinition: "#/components/schemas/CreateTokenDefinition"
          TransferTokens: "#/components/schemas/TransferTokens"
          StakeTokens: "#/components/schemas/StakeTokens"
          UnstakeTokens: "#/components/schemas/UnstakeTokens"
          MintTokens: "#/components/schemas/MintTokens"
          BurnTokens: "#/components/schemas/BurnTokens"
          RegisterValidator: "#/components/schemas/RegisterValidator"
          UnregisterValidator: "#/components/schemas/UnregisterValidator"
    RecentTransactionsRequest:
      type: object
      required:
        - account_identifier
      properties:
        at_state_identifier:
          $ref: "#/components/schemas/PartialLedgerStateIdentifier"
        from_state_identifier:
          $ref: "#/components/schemas/PartialLedgerStateIdentifier"
        cursor:
          description: This cursor allows forward pagination, by providing the cursor from the previous request.
          type: string
          nullable: true
        limit:
          description: The page size requested. The maximum value is 30 at present.
          type: integer
          nullable: true
      example:
        limit: 10
    RecentTransactionsResponse:
      type: object
      required:
        - ledger_state
        - transactions
      properties:
        ledger_state:
          $ref: "#/components/schemas/LedgerState"
        next_cursor:
          description: The cursor to be provided for the next page of results. If missing, this is the last page of results.
          type: string
        transactions:
          description: The page of user transactions.
          type: array
          items:
            $ref: "#/components/schemas/TransactionInfo"
    TransactionPreviewRequest:
      type: object
      required:
        - manifest
        - cost_unit_limit
        - tip_percentage
        - nonce
        - signer_public_keys
        - flags
      properties:
        manifest:
          description: A transaction manifest. sbor encoded, and then hex encoded.
          type: string
        blobs:
          description: An array of hex-encoded blob data
          type: array
          items:
            type: string
        cost_unit_limit:
          description: Maximum number of cost units available for transaction execution.
          type: integer
          format: int64
        tip_percentage:
          description: The validator tip.
          type: integer
          format: int64
        nonce:
          description: The nonce value to use for execution.
          type: string
        signer_public_keys:
          description: A list of public keys to be used as transaction signers, in a compressed format, hex encoded.
          type: array
          items:
            type: string
        flags:
          type: object
          required:
            - unlimited_loan
          properties:
            unlimited_loan:
              type: boolean
      example:
        manifest: TBD
        cost_unit_limit: TBD
        tip_percentage: TBD
        nonce: TBD
        signer_public_keys:
          - TBD
        flags:
          unlimited_loan: true
    TransactionPreviewResponse:
      type: object
      required:
        - receipt
        - resource_changes
        - logs
      properties:
        receipt:
          "$ref": "#/components/schemas/TransactionReceipt"
        resource_changes:
          type: array
          items:
            "$ref": "#/components/schemas/ResourceChange"
        logs:
          type: array
          items:
            type: object
            required:
              - level
              - message
            properties:
              level:
                type: string
              message:
                type: string
    TransactionSubmitRequest:
      type: object
      required:
        - notarized_transaction
      properties:
        notarized_transaction:
          description: The notarized transaction payload which can be submitted, hex encoded.
          type: string
      example:
        signed_transaction: 1002000000100200000010020000001009000000070107f00a00000000000000000a64000000000000000a0500000000000000912100000002ee228603d95b51f6f908c3ab20ffe075971f74c0f1668fa3b3924177d908054b01000980969800090500000010010000003011040000000a00000043616c6c4d6574686f6403000000811b0000000400000000000000000000000000000000000000000000000000010c080000006c6f636b5f66656530072a0000001001000000a1200000000000a0dec5adc9353600000000000000000000000000000000000000000000000a00000043616c6c4d6574686f6403000000811b0000000400000000000000000000000000000000000000000000000000010c08000000667265655f78726430070500000010000000000f00000054616b6546726f6d576f726b746f7001000000b61b0000000000000000000000000000000000000000000000000000000000040c00000043616c6c46756e6374696f6e04000000801b0000000100000000000000000000000000000000000000000000000000030c070000004163636f756e740c110000006e65775f776974685f7265736f7572636530071f00000010020000001108000000416c6c6f77416c6c00000000b1040000000002000030210100000002000000912100000002ee228603d95b51f6f908c3ab20ffe075971f74c0f1668fa3b3924177d908054b9240000000fb9d850fa850b0d3c0ad03ceb0737648337ed90526d059720375b833bfea00d503ad2360db5530490da11063a894d4e4bd2f419f638881296605f510ac2e88149240000000fb031ae2922c11cb45af44ee13fbdc2077c6647a982282ab6a23cb74fcdfd98c110c62ee5516e8e867e1e9c23b472f4e038464fba1adb16e70d8d520a9b1c9e6
    TransactionSubmitResponse:
      type: object
      required:
        - duplicate
      properties:
        duplicate:
          type: boolean
          description: Is true if the transaction is a duplicate of an existing transaction in the mempool.
    GatewayRequest:
      type: object
      example: {}
    GatewayResponse:
      type: object
      required:
        - gateway_api
        - ledger_state
      properties:
        gateway_api:
          $ref: "#/components/schemas/GatewayApiVersions"
        ledger_state:
          $ref: "#/components/schemas/LedgerState"
        target_ledger_state:
          $ref: "#/components/schemas/TargetLedgerState"
      example:
        ledger_state:
        target_ledger_state:
    LedgerState:
      description: |
        The ledger state against which the response was generated. Can be used to detect if the Network Gateway is returning up-to-date information.
      type: object
      required:
        - network
        - version
        - timestamp
        - epoch
        - round
      properties:
        network:
          description: The name of the network against which the request is made.
          type: string
        version:
          description: The state version of the ledger. Each transaction increments the state version by 1.
          type: integer
          format: int64
        timestamp:
          description: |
            The round timestamp of the consensus round when this transaction was committed to ledger. This is not guaranteed to be strictly increasing, as it is computed as an average across the validator set. If this is significantly behind the current timestamp, the Network Gateway is likely reporting out-dated information, or the network has stalled.
          type: string
        epoch:
          description: The epoch number of the ledger at this state version.
          type: integer
          format: int64
        round:
          description: The consensus round in the epoch that this state version was committed in.
          type: integer
          format: int64
    TargetLedgerState:
      type: object
      required:
        - version
      properties:
        version:
          description: |
            The latest-seen state version of the tip of the network's ledger. If this is singificantly ahead of the current LedgerState version, the Network Gateway is possibly behind and may be reporting outdated information.
          type: integer
          format: int64
    PartialLedgerStateIdentifier:
      description: Optional. Allows a client to request a response referencing an earlier (`at_*` properties) or later (`from_*` properties) ledger state.
      type: object
      nullable: true
      properties:
        state_version:
          description: If the version is provided, the latest ledger state <= the given version is returned.
          nullable: true
          type: integer
          format: int64
        timestamp:
          description: If a timestamp is provided, the latest ledger state <= the given timestamp is returned.
          nullable: true
          type: string
          format: date-time
        epoch:
          description: If an epoch is provided, the ledger state at the given epoch <= the given round (else round 0) is returned.
          nullable: true
          type: integer
          format: int64
        round:
          nullable: true
          type: integer
          format: int64
    TransactionStatusRequest:
      type: object
      required:
        - transaction_identifier
      properties:
        transaction_identifier:
          $ref: "#/components/schemas/TransactionIdentifier"
        at_state_identifier:
          $ref: "#/components/schemas/PartialLedgerStateIdentifier"
      example:
        transaction_identifier:
          hash: ef71a9d6c63444fce6abd2df8fab2755cfb51f6794e578f60d99337193811842
    TransactionStatusResponse:
      type: object
      required:
        - ledger_state
        - transaction
      properties:
        ledger_state:
          $ref: "#/components/schemas/LedgerState"
        transaction:
          $ref: "#/components/schemas/TransactionInfo"
    TokenProperties:
      type: object
      required:
        - symbol
        - is_supply_mutable
        - granularity
        - name
        - description
        - url
        - icon_url
      properties:
        name:
          type: string
        description:
          type: string
        icon_url:
          type: string
        url:
          type: string
        symbol:
          type: string
        is_supply_mutable:
          description: If true, the token is allowed to be minted/burned by the owner.
          type: boolean
        granularity:
          "$ref": "#/components/schemas/BigInteger"
        owner:
          "$ref": "#/components/schemas/AccountIdentifier"
    TransactionInfo:
      type: object
      required:
        - transaction_status
        - transaction_identifier
        - actions
        - metadata
        - fee_paid
      properties:
        transaction_status:
          "$ref": "#/components/schemas/TransactionStatus"
        transaction_identifier:
          "$ref": "#/components/schemas/TransactionIdentifier"
        actions:
          type: array
          items:
            "$ref": "#/components/schemas/Action"
        fee_paid:
          $ref: "#/components/schemas/TokenAmount"
        metadata:
          "$ref": "#/components/schemas/TransactionMetadata"
    TransactionStatus:
      type: object
      required:
        - status
      properties:
        status:
          type: string
          enum:
            - PENDING
            - CONFIRMED
            - FAILED
        confirmed_time:
          type: string
        ledger_state_version:
          type: integer
          format: int64
      example:
        status: CONFIRMED
        confirmed_time: "2021-07-27T17:35:10.726Z"
    TransactionMetadata:
      type: object
      required:
        - hex
      properties:
        hex:
          description: The transaction payload, hex encoded.
          type: string
        message:
          description: The message bytes, hex encoded.
          type: string
    TransactionReceipt:
      type: object
      description: The transaction execution receipt
      required:
        - tbd
      properties:
        tbd:
          type: string
    ResourceChange:
      type: object
      required:
        - tbd
      properties:
        tbd:
          type: string
    TokenAmount:
      type: object
      required:
        - value
        - token_identifier
      properties:
        value:
          "$ref": "#/components/schemas/BigInteger"
        token_identifier:
          "$ref": "#/components/schemas/TokenIdentifier"
    BigInteger:
      type: string
      pattern: "^-?[0-9]+$"
    GatewayApiVersions:
      type: object
      required:
        - version
        - open_api_schema_version
      properties:
        version:
          description: The release that is currently deployed to the Gateway API.
          type: string
        open_api_schema_version:
          description: The open api schema version that was used to generate the API models.
          type: string
    AccountIdentifier:
      type: object
      required:
        - address
      properties:
        address:
          description: The radix address of the account.
          type: string
    ValidatorIdentifier:
      type: object
      required:
        - address
      properties:
        address:
          description: The radix address of the validator.
          type: string
    TokenIdentifier:
      type: object
      required:
        - rri
      properties:
        rri:
          description: The radix resource identifier of the token.
          type: string
    TransactionIdentifier:
      type: object
      required:
        - hash
      properties:
        hash:
          description: The transaction identifier hash.
          type: string
          pattern: "^[0123456789abcdef]{64}$"
          maxLength: 64
          minLength: 64
    ErrorResponse:
      type: object
      required:
        - code
        - message
      properties:
        code:
          description: A numeric code corresponding to the given error type, roughly aligned with HTTP Status Code semantics (eg 400/404/500).
          type: integer
        message:
          description: A human-readable error message.
          type: string
        details:
          description: A structured/typed details object.
          $ref: "#/components/schemas/GatewayError"
        trace_id:
          description: A GUID to be used when reporting errors, to allow correlation with the Gateway API's error logs.
          type: string
    GatewayError:
      type: object
      required:
        - type
      properties:
        type:
          description: The type of error. Each subtype may have its own additional structured fields.
          type: string
      discriminator:
        propertyName: type
        mapping:
          InvalidTransactionError: "#/components/schemas/InvalidTransactionError"
          InvalidTokenRRIError: "#/components/schemas/InvalidTokenRRIError"
          InvalidAccountAddressError: "#/components/schemas/InvalidAccountAddressError"
          InvalidValidatorAddressError: "#/components/schemas/InvalidValidatorAddressError"
          InvalidTokenSymbolError: "#/components/schemas/InvalidTokenSymbolError"
          InvalidActionError: "#/components/schemas/InvalidActionError"
          TokenNotFoundError: "#/components/schemas/TokenNotFoundError"
          TransactionNotFoundError: "#/components/schemas/TransactionNotFoundError"
          NotEnoughNativeTokensForFeesError: "#/components/schemas/NotEnoughNativeTokensForFeesError"
          NotEnoughTokensForTransferError: "#/components/schemas/NotEnoughTokensForTransferError"
          NotEnoughTokensForStakeError: "#/components/schemas/NotEnoughTokensForStakeError"
          NotEnoughTokensForUnstakeError: "#/components/schemas/NotEnoughTokensForUnstakeError"
          BelowMinimumStakeError: "#/components/schemas/BelowMinimumStakeError"
          CannotStakeError: "#/components/schemas/CannotStakeError"
          MessageTooLongError: "#/components/schemas/MessageTooLongError"
          CouldNotConstructFeesError: "#/components/schemas/CouldNotConstructFeesError"
          InvalidRequestError: "#/components/schemas/InvalidRequestError"
          NotSyncedUpError: "#/components/schemas/NotSyncedUpError"
          InternalServerError: "#/components/schemas/InternalServerError"
    InternalServerError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - exception
            - cause
          properties:
            exception:
              description: Gives an error type which occurred within the Gateway API when serving the request.
              type: string
            cause:
              description: Gives a human readable message - likely just a trace ID for reporting the error.
              type: string
    NotSyncedUpError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - request_type
            - current_sync_delay_seconds
            - max_allowed_sync_delay_seconds
          properties:
            request_type:
              description: The request type that triggered this exception.
              type: string
            current_sync_delay_seconds:
              description: The current delay between the Gateway DB and the network ledger round timestamp.
              type: integer
              format: int64
            max_allowed_sync_delay_seconds:
              description: The maximum allowed delay between the Gateway DB and the network ledger round timestamp for this `request_type`.
              type: integer
              format: int64
    InvalidRequestError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - validation_errors
          properties:
            validation_errors:
              description: One or more validation errors which occurred when validating the request.
              type: array
              items:
                $ref: "#/components/schemas/ValidationErrorsAtPath"
    ValidationErrorsAtPath:
      type: object
      required:
        - path
        - errors
      properties:
        path:
          type: string
        errors:
          type: array
          items:
            type: string
    InvalidActionError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - invalid_action
          properties:
            invalid_action:
              description: The action which was invalid. The descriptive reason is in the main error message.
              $ref: "#/components/schemas/Action"
    InvalidTransactionError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - invalid_transaction
            - message
          properties:
            invalid_transaction:
              description: The transaction payload which was invalid.
              type: string
            message:
              description: A descriptive reason for the invalid transaction.
              type: string
    NotEnoughNativeTokensForFeesError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - required_amount
            - available_amount
          properties:
            required_amount:
              description: The required amount of XRD for the fee.
              $ref: "#/components/schemas/TokenAmount"
            available_amount:
              description: The available amount of XRD remaining at the point the fee was paid.
              $ref: "#/components/schemas/TokenAmount"
    NotEnoughTokensForTransferError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - requested_amount
            - available_amount
          properties:
            requested_amount:
              description: The requested amount of token to be transferred.
              $ref: "#/components/schemas/TokenAmount"
            available_amount:
              description: The available amount of token remaining at the point the transfer action was attempted.
              $ref: "#/components/schemas/TokenAmount"
    NotEnoughTokensForStakeError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - requested_amount
            - available_amount
          properties:
            requested_amount:
              description: The requested amount of XRD to be staked.
              $ref: "#/components/schemas/TokenAmount"
            available_amount:
              description: The available amount of XRD remaining at the point the stake action was attempted.
              $ref: "#/components/schemas/TokenAmount"
    NotEnoughTokensForUnstakeError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - requested_amount
            - stake
            - pending_stake
          properties:
            requested_amount:
              description: The requested amount of XRD to be unstaked.
              $ref: "#/components/schemas/TokenAmount"
            stake:
              description: The estimated amount of XRD that your delegated stake to this validator is worth at the point the stake action was attempted.
              $ref: "#/components/schemas/AccountStakeEntry"
            pending_stake:
              description: The amount of XRD that you is waiting to be staked against this validator at the next epoch change, and cannot currently be unstaked.
              $ref: "#/components/schemas/AccountStakeEntry"
    BelowMinimumStakeError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - requested_amount
            - minimum_amount
          properties:
            requested_amount:
              description: The requested amount of XRD to be staked.
              $ref: "#/components/schemas/TokenAmount"
            minimum_amount:
              description: The minimum amount of XRD you can stake.
              $ref: "#/components/schemas/TokenAmount"
    CannotStakeError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - owner
            - user
          properties:
            owner:
              description: The owner of the validator - if the validator has delegated stake disabled, only this account may stake.
              $ref: "#/components/schemas/AccountIdentifier"
            user:
              description: The user who attempted to stake to the validator.
              $ref: "#/components/schemas/AccountIdentifier"
    MessageTooLongError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - length_limit
            - attempted_length
          properties:
            length_limit:
              description: The maximum byte length of the message, as per current transaction rules.
              type: integer
            attempted_length:
              description: The byte length of the message in the transaction.
              type: integer
    CouldNotConstructFeesError:
      allOf:
        - "$ref": "#/components/schemas/GatewayError"
        - type: object
          required:
            - attempts
          properties:
            attempts:
              description: The number of attempts the system tried and failed to create a consistent transaction fee.
              type: integer
    InvalidTokenSymbolError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - invalid_token_symbol
          properties:
            invalid_token_symbol:
              description: The token symbol which was invalid. A descriptive reason is given in the main error message.
              type: string
    InvalidTokenRRIError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - invalid_rri
          properties:
            invalid_rri:
              description: The token rri which was invalid. A descriptive reason is given in the main error message.
              type: string
    InvalidAccountAddressError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - invalid_account_address
          properties:
            invalid_account_address:
              description: The account address which was invalid. A descriptive reason is given in the main error message.
              type: string
    InvalidValidatorAddressError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - invalid_validator_address
          properties:
            invalid_account_address:
              description: The validator address which was invalid. A descriptive reason is given in the main error message.
              type: string
    TokenNotFoundError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - token_not_found
          properties:
            token_not_found:
              description: The token rri which was not found.
              $ref: "#/components/schemas/TokenIdentifier"
    TransactionNotFoundError:
      allOf:
        - $ref: "#/components/schemas/GatewayError"
        - type: object
          required:
            - transaction_not_found
          properties:
            transaction_not_found:
              description: The transaction identifier which was not found.
              $ref: "#/components/schemas/TransactionIdentifier"
